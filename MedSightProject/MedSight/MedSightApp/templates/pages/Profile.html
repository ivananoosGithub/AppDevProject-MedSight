{% load static %}

<!DOCTYPE html>
<html style="font-size: 16px;">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords"
    content="Quality Care, Weekly Timetable, Total Health Care, Get Online Consultation, Our Team, What people say, Make an Appointment">
  <meta name="description" content="">
  <meta name="page_type" content="np-template-header-footer-from-plugin">
  <title>Profile | {% if current_user %}{{current_user}}{% endif %}</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="{% static 'css/nicepage1.css' %}" media="screen">
  <link rel="stylesheet" href="{% static 'css/Home.css' %}" media="screen">
  <script class="u-script" type="text/javascript" src="{% static 'js/nicepage1.js' %}" defer=""></script>
  <script class="u-script" type="text/javascript" src="{% static 'js/dropdown.js' %}" defer=""></script>
  <link rel="stylesheet" href="{% static 'css/dropdown.css' %}">
  <meta name="generator" content="Nicepage 3.24.3, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
  <link id="u-page-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">

  <!--   SAMPLE PULL REQ   -->

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "Medical Website",
      "logo": "#"
    }
  </script>
  <meta name="theme-color" content="#9fd9dd">
  <meta property="og:title" content="Home">
  <meta property="og:type" content="website">
</head>

<body data-home-page="{% url 'MedSightApp:index_view' %}" data-home-page-title="Home" class="u-body u-overlap">
  <!-- new nav bar -->
  <header class="u-clearfix u-header u-sticky u-sticky-786f u-white u-header" id="sec-0ac4"><div class="u-clearfix u-sheet u-sheet-1">
    <nav class="u-align-right u-dropdown-icon u-menu u-menu-dropdown u-offcanvas u-menu-1">
      <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
        <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
          <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
        </a>
      </div>
      <div class="u-custom-menu u-nav-container">
        <ul class="u-nav u-spacing-30 u-unstyled u-nav-1">
          {% if patients %}
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" href="{% url 'MedSightApp:patientHome_view' %}" style="padding: 6px 0px;">Home</a></li>
          {% elif doctors %}
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" href="{% url 'MedSightApp:patientHome_view' %}" style="padding: 6px 0px;">Home</a></li>
          {% else %}
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" href="{% url 'MedSightApp:index_view' %}" style="padding: 6px 0px;">Home</a></li>
          {% endif %}
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" href="{% url 'MedSightApp:about_view' %}" style="padding: 6px 0px;">About</a></li>
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" href="{% url 'MedSightApp:contact_view' %}" style="padding: 6px 0px;">Contact</a></li>
          

          {% if current_user %}
          <!-- <div class="dropdown">
            <button onclick="myFunction()" class="dropbtn">{{current_user}}</button>
            <div id="myDropdown" class="dropdown-content">
              <li class="u-nav-item">
                <a class="u-border-2 u-border-hover-white u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-grey-90 u-text-hover-grey-90"
                  href="{% url 'MedSightApp:profile_view' %}" style="padding: 10px 0px;">Profile</a></li><br>
              <li class="u-nav-item">
                <a class="u-border-2 u-border-hover-white u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-grey-90 u-text-hover-grey-90"
                  href="{% url 'MedSightApp:logout' %}" style="padding: 10px 0px;">Logout</a></li>
            </div>
          </div> -->
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" style="padding: 6px 0px;">{{current_user}}</a>
            <div class="u-nav-popup">
              <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-2">
                <li class="u-nav-item"><a href="{% url 'MedSightApp:profile_view' %}" class="u-button-style u-nav-link u-palette-4-base">Profile</a></li>
                <li class="u-nav-item"><a href="{% url 'MedSightApp:admin_view' %}" class="u-button-style u-nav-link u-palette-4-base">Dashboard</a></li>
                <li class="u-nav-item"><a href="#" class="u-button-style u-nav-link u-palette-4-base">Account Settings</a></li>
                <li class="u-nav-item"><a href="{% url 'MedSightApp:logout' %}" class="u-button-style u-nav-link u-palette-4-base">Logout</a></li>
            </ul>
            </div>
              </li>
              </ul>
          </div>
          {% else %}
          <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" href="{% url 'MedSightApp:signin_view' %}" style="padding: 6px 0px;">Sign in</a></li>
          {% endif %}
          
          <!-- Drop Down -->
          <!-- <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-4-base u-border-hover-palette-4-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-4-base u-text-grey-90 u-text-hover-palette-4-base" style="padding: 6px 0px;">UserTest-1</a>
            <div class="u-nav-popup">
              <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-2">
                <li class="u-nav-item"><a href="#" class="u-button-style u-nav-link u-palette-4-base">Profile</a></li>
                <li class="u-nav-item"><a href="#" class="u-button-style u-nav-link u-palette-4-base">Dashboard</a></li>
                <li class="u-nav-item"><a href="#" class="u-button-style u-nav-link u-palette-4-base">Account Settings</a></li>
                <li class="u-nav-item"><a href="#" class="u-button-style u-nav-link u-palette-4-base">Logout</a></li>
            </ul>
            </div>
              </li>
              </ul>
          </div> -->

      <div class="u-custom-menu u-nav-container-collapse">
        <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
          <div class="u-sidenav-overflow">
            <div class="u-menu-close"></div>
            <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-3">
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="#" style="padding: 6px 0px;">Home</a>
              </li><li class="u-nav-item"><a class="u-button-style u-nav-link" style="padding: 6px 0px;">About</a>
              </li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="#" style="padding: 6px 0px;">Contact</a>
              </li><li class="u-nav-item"><a class="u-button-style u-nav-link" style="padding: 6px 0px;">UserTest-1</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-4"><li class="u-nav-item"><a class="u-button-style u-nav-link">Profile</a>
              </li><li class="u-nav-item"><a class="u-button-style u-nav-link">Dashboard</a>
              </li><li class="u-nav-item"><a class="u-button-style u-nav-link">Account Settings</a>
              </li><li class="u-nav-item"><a class="u-button-style u-nav-link">Logout</a>
              </li></ul>
              </div>
              </li></ul>
          </div>
        </div>
        <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
      </div>
    </nav>
    <a href="#" class="u-image u-logo u-image-1">
      <img src="{% static 'images/logo.png' %}" class="u-logo-image u-logo-image-1">
    </a>
  </div><style class="u-sticky-style" data-style-id="786f">.u-sticky-fixed.u-sticky-786f, .u-body.u-sticky-fixed .u-sticky-786f {
box-shadow: 0 2px 8px 0 rgba(128,128,128,1) !important
}.u-sticky-fixed.u-sticky-786f:before, .u-body.u-sticky-fixed .u-sticky-786f:before {
borders: top right bottom left !important
}</style></header>

<!-- end nav bar -->

  <br>
  <section class="u-align-center u-clearfix u-custom-typography u-section-5" id="carousel_a89f" style="margin: auto;">
    <br><br><br>
    {% for current_user in patients %}
    {{ form.as_p }}
    <img src="{{current_user.profile_pic.url}}" alt="Profile" height="100px" width="100px" style="border-radius: 60px;">
    <p>{{current_user.first_name}}</p>
    <p>{{current_user.last_name}}</p>
    <p>{{current_user.gender}}</p>
    <p>{{current_user.contact_number}}</p>
    <p>{{current_user.current_address}}</p>

    <div class="dropdownPP">
      <button onclick="myFunctionPP()" class="dropbtnPP">Account Settings</button>
      <div id="dropPP" class="dropdown-content-PP">
        <a type="button" class='ppbtn' href="#" data-toggle="modal"
          data-target="#newModal-{{current_user.patient_id}}">Edit Account</a>
        <button type="button" class='ppbtn' style="border: none;" data-toggle="modal"
          data-target="#delModal-{{current_user.patient_id}}">Delete Account</button>
      </div>
    </div>

    <!-- newModal -->
    <div class="modal fade" id="newModal-{{current_user.patient_id}}" tabindex="-1" role="dialog"
      aria-labelledby="newModalLabel" aria-hidden="true"
      style="position: absolute; margin-left: auto; margin-right: auto;">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h3>Edit Account | {{current_user.username}}</h3>
        </div>
        <form id="updateForm" method="POST">
          <div class="modal-body">
            {% csrf_token %}
            {{ form.as_p }}
            <div class="row">
              <div class="col-sm-3" hidden>
                <input type="text" class="form-control" id="patient_id" name="patient_id"
                  value="{{current_user.patient_id}}">
              </div>
              <!-- <div class = "col-sm-3">
                <input type="file" id="profile_pic" name="profile_pic" placeholder="Upload a Profile Image"  
                value="{{current_user.profile_pic.url}}">
              </div> -->
              <div class="col-sm-3">
                <input type="text" class="form-control" id="first_name" name="first_name"
                  value="{{current_user.first_name}}">
              </div>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="last_name" name="last_name"
                  value="{{current_user.last_name}}">
              </div>
              <div class="col-sm-3">
                <label for="gender">Gender</label>
                    <select id="gender" name="gender" class="u-border-1 u-border-grey-30 u-input u-input-rectangle u-white" 
                    value="{{current_user.gender}}" required>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                    </select>
                </div>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="contact_number" name="contact_number"
                  value="{{current_user.contact_number}}">
              </div>
              <div class="col-sm-3"></div>
                <input type="text" class="form-control" id="current_address" name="current_address"
                  value="{{current_user.current_address}}">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" id="btnUpdatePatientP" name="btnUpdatePatientP" class="button">Update</button>
            <button type="submit" class="button btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </form>
      </div>
    </div>
    <!-- End of the newModal -->

    <!-- delModal-->
    <div class="modal fade" id="delModal-{{current_user.patient_id}}" tabindex="-1" role="dialog"
      aria-labelledby="newModalLabel" aria-hidden="true"
      style="position: absolute; margin-left: auto; margin-right: auto;">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h2>Delete Account |{{current_user.username}}</h2>
        </div>
        <form id="deleteForm" method="POST">
          {% csrf_token %}
          <div class="modal-body">
            <div class="col-sm-3" hidden>
              <input type="text" class="form-control" id="current_user" name="current_user"
                value="{{current_user.patient_id}}">
            </div>
            Are you sure you want to delete your account?
          </div>
          <div class="modal-footer">
            <button type="submit" class="button btn-secondary" data-dismiss="modal">No</button>
            <button type="submit" id="btnDeletePatientP" name="btnDeletePatientP" class="button">Yes</button>
          </div>
        </form>
      </div>
    </div>
    <!-- End of the delModal -->
    {% endfor %}

    {% for current_user in doctors %}
    <img src="{{current_user.profile_pic.url}}" alt="Profile" height="100px" width="100px" style="border-radius: 60px;">
    <p>{{current_user.first_name}}</p>
    <p>{{current_user.last_name}}</p>
    <p>{{current_user.contact_number}}</p>
    <p>{{current_user.current_address}}</p>
    <div class="dropdownPP">
      <button onclick="myFunctionPP()" class="dropbtnPP">Account Settings</button>
      <div id="dropPP" class="dropdown-content-PP">
        <a type="button" class='ppbtn' href="#" data-toggle="modal"
          data-target="#newModal-{{current_user.doctor_id}}">Edit Account</a>
        <button type="button" class='ppbtn' style="border: none;" data-toggle="modal"
          data-target="#delModal-{{current_user.doctor_id}}">Delete Account</button>
      </div>
    </div>

    <!-- newModal -->
    <div class="modal fade" id="newModal-{{current_user.doctor_id}}" tabindex="-1" role="dialog"
      aria-labelledby="newModalLabel" aria-hidden="true"
      style="position: absolute; margin-left: auto; margin-right: auto;">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h3>Edit Account | {{current_user.username}}</h3>
        </div>
        <form id="updateForm" method="POST">
          <div class="modal-body">
            {% csrf_token %}
            {{ form.as_p }}
            <div class="row">
              <div class="col-sm-3" hidden>
                <input type="text" class="form-control" id="doctor_id" name="doctor_id"
                  value="{{current_user.doctor_id}}" required>
              </div>
              <!-- <div class = "col-sm-3">
                <input type="file" id="profile_pic" name="profile_pic" placeholder="Upload a Profile Image"  
                value="{{current_user.profile_pic.url}}">
              </div> -->
              <div class="col-sm-3">
                <input type="text" class="form-control" id="first_name" name="first_name"
                  value="{{current_user.first_name}}" required>
              </div>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="last_name" name="last_name"
                  value="{{current_user.last_name}}" required>
              </div>
              <div class="col-sm-3">
              <label for="gender">Gender</label>
                  <select id="gender" name="gender" class="u-border-1 u-border-grey-30 u-input u-input-rectangle u-white" 
                  value="{{current_user.gender}}" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                  </select>
              </div>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="contact_number" name="contact_number"
                  value="{{current_user.contact_number}}" required>
              </div>
              <div class="col-sm-3">
                <input type="text" class="form-control" id="current_address" name="current_address"
                  value="{{current_user.current_address}}" required>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" id="btnUpdateDoctorD" name="btnUpdateDoctorD" class="button">Update</button>
            <button type="submit" class="button btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </form>
      </div>
    </div>
    <!-- End of the newModal -->

    <!-- delModal-->
    <div class="modal fade" id="delModal-{{current_user.doctor_id}}" tabindex="-1" role="dialog"
      aria-labelledby="newModalLabel" aria-hidden="true"
      style="position: absolute; margin-left: auto; margin-right: auto;">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <h2>Delete Account |{{current_user.username}}</h2>
        </div>
        <form id="deleteForm" method="POST">
          {% csrf_token %}
          <div class="modal-body">
            <div class="col-sm-3" hidden>
              <input type="text" class="form-control" id="current_user" name="current_user"
                value="{{current_user.doctor_id}}">
            </div>
            Are you sure you want to delete your account?
          </div>
          <div class="modal-footer">
            <button type="submit" class="button btn-secondary" data-dismiss="modal">No</button>
            <button type="submit" id="btnDeleteDoctorD" name="btnDeleteDoctorD" class="button">Yes</button>
          </div>
        </form>
      </div>
    </div>
    <!-- End of the delModal -->
    {% endfor %}
  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.js">
  </script>
  <script type="text/javascript" src="{% static 'js/dataTables.bootstrap.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/script.js' %}"></script>

  <script>
    // Script to open and close sidebar
    function w3_open() {
      document.getElementById("mySidebar").style.display = "block";
      document.getElementById("myOverlay").style.display = "block";
    }

    function w3_close() {
      document.getElementById("mySidebar").style.display = "none";
      document.getElementById("myOverlay").style.display = "none";
    }

    // Modal Image Gallery
    function onClick(element) {
      document.getElementById("img01").src = element.src;
      document.getElementById("modal01").style.display = "block";
      var captionText = document.getElementById("caption");
      captionText.innerHTML = element.alt;
    }
  </script>



<footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-aeb0">
  <div class="u-clearfix u-sheet u-sheet-1">
    <p class="u-small-text u-text u-text-variant u-text-1">MS Team CSIT321-G1 A.Y. 2021-2022</p>
  </div>
</footer>
</body>

</html>